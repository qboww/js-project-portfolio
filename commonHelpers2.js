import"./assets/theme-changer-9ac1d12e.js";import{A as f,S as g,i as y,a as E}from"./assets/vendor-43152ff4.js";function S(){const e=document.querySelector(".btn-drop-down"),t=document.querySelector(".list-menu-anchors");e.addEventListener("click",function(){if(!t.classList.contains("visually-hidden")){t.classList.remove("is-open"),setTimeout(()=>{t.classList.toggle("visually-hidden")},500);return}t.classList.add("is-open"),t.classList.toggle("visually-hidden")}),document.querySelectorAll('a[href^="#"]').forEach(s=>{s.addEventListener("click",function(n){n.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})}function k(){new f(".about-me-secondlist",{openOnInit:[0],showMultiple:!0}),new g(".about-me-swiper-container",{centeredSlides:!1,grabCursor:!0,loop:!0,keyboard:{enabled:!0},mousewheel:!0,touch:!0,navigation:{nextEl:".swiper-button-next"},spaceBetween:0,breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}}});const e=document.querySelectorAll(".about-me-btn-aboutme");document.querySelectorAll(".about-me-secondlist-item").forEach(t=>{t.classList.contains("is-active")?(t.firstElementChild.style.marginBottom="0px",t.firstElementChild.style.transition="margin 0.5s ease-in-out"):(t.firstElementChild.style.marginBottom="35px",t.firstElementChild.style.transition="margin 0.5s ease-in-out")}),e.forEach(t=>t.addEventListener("click",()=>{document.querySelectorAll(".about-me-secondlist-item").forEach(s=>{s.classList.contains("is-active")?(s.firstElementChild.style.marginBottom="0px",s.firstElementChild.style.transition="margin 0.5s ease-in-out"):(s.firstElementChild.style.marginBottom="35px",s.firstElementChild.style.transition="margin 0.5s ease-in-out")})}))}const q=()=>{new g(".projects-swiper",{direction:"horizontal",navigation:{nextEl:".projects-next-button",prevEl:".projects-previous-button"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0,tabKeys:!0},grabCursor:!0,spaceBetween:50})};function B(){new f(".faq-list",{showMultiple:!0})}function C(){const e=document.querySelector(".covers"),t=document.querySelectorAll(".covers-picture"),s=()=>{t.forEach(i=>{i.classList.add("js-animation")})},n=()=>{t.forEach(i=>{i.classList.remove("js-animation")})};new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting?s():n()})}).observe(e)}const x=({_id:e,avatar_url:t,author:s,review:n})=>`<li class="reviews-list-item swiper-slide" id="${e}">
            <img class="thumbnail" src="${t}" alt="${s}" width="48" height="48" loading="lazy">
            <div class="opinion">
              <h3 class="author">${s}</h3>
              <p class="review">${n.trim()}</p>
            </div>
          </li>`;function P(e){return e.map(x).join("")}const T="https://portfolio-js.b.goit.study/api/reviews",A=document.querySelector("#review-swiper-list"),O=async()=>{try{const e=await fetch(T);if(!e.ok)throw new Error("Network response was not ok.");const t=await e.json(),s=P(t);s||iziToast.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"}),A.insertAdjacentHTML("beforeend",s);const n=new g("#swiper3",{direction:"horizontal",breakpoints:{768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:16},1440:{slidesPerView:4,slidesPerGroup:1,spaceBetween:18}},navigation:{nextEl:".btn-next-review",prevEl:".btn-prev-review"}})}catch{iziToast.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}};function D(){async function e(){await O()}e()}function $(){const e={form:document.querySelector(".footer-form"),email:document.querySelector(".footer-email-input"),successLabel:document.querySelector(".success-label"),errorLabel:document.querySelector(".error-label"),comments:document.querySelector(".footer-comments-input"),btn:document.querySelector(".footer-send-button"),modalBackdrop:document.querySelector(".footer-modal-backdrop"),modalOverlay:document.querySelector(".footer-modal-overlay")},t={addError(){e.successLabel.classList.add("visually-hidden"),e.errorLabel.classList.remove("visually-hidden"),e.email.classList.add("input-error"),e.email.classList.remove("input-success"),e.errorLabel.classList.add("is-open"),e.successLabel.classList.remove("is-open")},addSuccess(){e.errorLabel.classList.add("visually-hidden"),e.successLabel.classList.remove("visually-hidden"),e.email.classList.remove("input-error"),e.email.classList.add("input-success"),e.successLabel.classList.add("is-open"),e.errorLabel.classList.remove("is-open")},removeBoth(){e.email.classList.remove("input-success"),e.email.classList.remove("input-error"),e.successLabel.classList.remove("is-open"),e.errorLabel.classList.remove("is-open"),setTimeout(()=>{e.successLabel.classList.add("visually-hidden"),e.errorLabel.classList.add("visually-hidden")},250)}},s={close(){e.modalOverlay.classList.remove("is-open"),e.modalBackdrop.classList.remove("is-open"),setTimeout(()=>{e.modalBackdrop.classList.add("visually-hidden"),e.modalOverlay.classList.add("visually-hidden")},500),e.modalOverlay.children.close_button.removeEventListener("click",s.close),e.modalBackdrop.removeEventListener("click",d),document.body.removeEventListener("keydown",m)},open(){e.modalBackdrop.classList.remove("visually-hidden"),e.modalOverlay.classList.remove("visually-hidden"),e.modalBackdrop.classList.add("is-open"),e.modalOverlay.classList.add("is-open"),e.modalOverlay.children.close_button.addEventListener("click",s.close),e.modalBackdrop.addEventListener("click",d),document.body.addEventListener("keydown",m)}},n={showError(){y.error({message:"Please fill out both fields before sending!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})},showBadRequest(){y.error({message:"Something went wrong. Please try again!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})}},r={email:null,comments:null};if(localStorage.hasOwnProperty("userSubmitData")){const o=JSON.parse(localStorage.getItem("userSubmitData"));e.form.elements.email.value=o.email,e.form.elements.comments.value=o.comments,r.email=o.email,r.comments=o.comments}const i=()=>{localStorage.setItem("userSubmitData",JSON.stringify(r))},a=()=>{localStorage.removeItem("userSubmitData")},c=o=>/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(o.trim()),h=o=>{const l="https://portfolio-js.b.goit.study/api",v="/requests",p=o;return E.post(`${l}${v}`,p)},u=()=>{c(e.form.elements.email.value)||t.addError()},d=o=>{o.target===o.currentTarget&&s.close()},m=o=>{o.key==="Escape"&&s.close()},L=async o=>{try{o.preventDefault();const l=o.currentTarget;if(l.elements.email.value.trim()===""||l.elements.comments.value.trim()===""){n.showError();return}const v={email:l.elements.email.value.trim(),comment:l.elements.comments.value.trim()},p=await h(v);e.modalOverlay.children.title.textContent=p.data.title,e.modalOverlay.children.message.textContent=p.data.message,s.open(),t.removeBoth(),l.reset(),a()}catch(l){console.log(l),n.showBadRequest()}},b=o=>{r.email=o.target.value,i(),o.target.value.length>27&&innerWidth<=375&&(o.target.value=o.target.value.slice(0,25)+"..."),o.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(o.target.value=o.target.value.slice(0,17)+"..."),o.target.value.length>31&&innerWidth>=1440&&(o.target.value=o.target.value.slice(0,29)+"..."),(!e.errorLabel.classList.contains("visually-hidden")||!e.successLabel.classList.contains("visually-hidden"))&&(c(o.target.value)&&t.addSuccess(),c(o.target.value)||t.addError(),o.target.value===""&&t.removeBoth())},w=o=>{r.comments=o.target.value,i(),o.target.value.length>27&&innerWidth<=375&&(o.target.value=o.target.value.slice(0,25)+"..."),o.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(o.target.value=o.target.value.slice(0,17)+"..."),o.target.value.length>31&&innerWidth>=1440&&(o.target.value=o.target.value.slice(0,29)+"...")};e.btn.addEventListener("click",u),e.form.addEventListener("submit",L),e.email.addEventListener("input",b),e.comments.addEventListener("input",w)}function I(){const e=document.querySelector(".menu-box"),t=document.querySelector(".button-menu"),s=document.querySelector(".button-mob-menu"),n=document.querySelector("body");t.addEventListener("click",function(){e.classList.toggle("visually-hidden"),e.classList.add("is-open"),r()}),s.addEventListener("click",function(){e.classList.remove("is-open"),setTimeout(()=>{e.classList.toggle("visually-hidden")},500),r()}),document.addEventListener("click",function(i){(i.target.classList.contains("menu-link")||i.target.classList.contains("modal-order-btn"))&&(e.classList.add("visually-hidden"),r())});function r(){n.classList.toggle("modal-open")}}function j(){const t=document.querySelector(".back-to-top"),s=()=>document.documentElement||document.body;document.addEventListener("scroll",()=>{s().scrollTop>100?t.classList.remove("hidden"):t.classList.add("hidden")});const n=()=>{document.body.scrollIntoView({behavior:"smooth"})};t.addEventListener("click",n);const r=document.querySelector(".progress-bar");document.addEventListener("scroll",()=>{const i=s().scrollTop/(s().scrollHeight-s().clientHeight)*100;r.style.width=`${i}%`,s().scrollTop>100?t.classList.remove("hidden"):t.classList.add("hidden")})}function z(){const e=(t,s)=>{t.style.setProperty("--x",`${s.x}px`),t.style.setProperty("--y",`${s.y}px`),t.style.setProperty("--width",`${s.width}px`),t.style.setProperty("--height",`${s.height}px`),t.style.setProperty("--radius",s.radius),t.style.setProperty("--scale",s.scale)};document.querySelectorAll(".cursor").forEach(t=>{let s;const n=r=>{const i={x:r.clientX,y:r.clientY,width:42,height:42,radius:"100px"},a={};if(s!=null){const{top:c,left:h,width:u,height:d}=s.getBoundingClientRect(),m=window.getComputedStyle(s).borderTopLeftRadius;a.x=h+u/2,a.y=c+d/2,a.width=u,a.height=d,a.radius=m}return{...i,...a}};document.addEventListener("mousemove",r=>{const i=n(r);e(t,i)}),document.querySelectorAll("a, button, select").forEach(r=>{r.addEventListener("mouseenter",()=>s=r),r.addEventListener("mouseleave",()=>s=void 0)})})}I();S();j();z();k();q();B();C();D();$();
//# sourceMappingURL=commonHelpers2.js.map
