import{S as m,i as p,a as v,A as g}from"./assets/vendor-bc146a52.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function b(){const e=document.querySelector(".header-select");e.addEventListener("change",r);function o(s){localStorage.setItem("theme",s),document.documentElement.className=s}function r(s){const a=s.currentTarget.value;o(`${a}-theme`)}document.addEventListener("DOMContentLoaded",i);function i(){const s=localStorage.getItem("theme");s!==null&&(e.value=`${s.replace(new RegExp("-theme"),"")}`),o(s||"red-theme")}}function L(){const e=document.querySelector(".menu-box"),o=document.querySelector(".button-menu"),r=document.querySelector(".button-mob-menu"),i=document.querySelector("body");o.addEventListener("click",function(){e.classList.toggle("visually-hidden"),s()}),r.addEventListener("click",function(){e.classList.toggle("visually-hidden"),s()}),document.addEventListener("click",function(a){(a.target.classList.contains("menu-link")||a.target.classList.contains("modal-order-btn"))&&(e.classList.add("visually-hidden"),s())});function s(){i.classList.toggle("modal-open")}}function y(){const e=document.querySelector(".covers"),o=document.querySelectorAll(".covers-picture"),r=()=>{o.forEach(a=>{a.classList.add("js-animation")})},i=()=>{o.forEach(a=>{a.classList.remove("js-animation")})};new IntersectionObserver(a=>{a.forEach(n=>{n.isIntersecting?r():i()})}).observe(e)}function w(){const e=document.querySelector(".btn-drop-down"),o=document.querySelector(".list-menu-anchors");e.addEventListener("click",function(){o.classList.toggle("visually-hidden")}),document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",function(i){i.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})}const S=({_id:e,avatar_url:o,author:r,review:i})=>`<li class="reviews-list-item swiper-slide" id="${e}">
            <img class="thumbnail" src="${o}" alt="${r}" width="48" height="48" loading="lazy">
            <div class="opinion">
              <h3 class="author">${r}</h3>
              <p class="review">${i.trim()}</p>
            </div>
          </li>`;function E(e){return e.map(S).join("")}const k="https://portfolio-js.b.goit.study/api/reviews",O=document.querySelector("#review-swiper-list"),q=async()=>{try{const e=await fetch(k);if(!e.ok)throw new Error("Network response was not ok.");const o=await e.json(),r=E(o);r||iziToast.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"}),O.insertAdjacentHTML("beforeend",r);const i=new m("#swiper3",{direction:"horizontal",breakpoints:{768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:16},1440:{slidesPerView:4,slidesPerGroup:1,spaceBetween:18}},navigation:{nextEl:".btn-next-review",prevEl:".btn-prev-review"}})}catch{iziToast.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},t={form:document.querySelector(".footer-form"),email:document.querySelector(".footer-email-input"),successLabel:document.querySelector(".success-label"),errorLabel:document.querySelector(".error-label"),comments:document.querySelector(".footer-comments-input"),btn:document.querySelector(".footer-send-button"),modalBackdrop:document.querySelector(".footer-modal-backdrop"),modalOverlay:document.querySelector(".footer-modal-overlay")},l={addError(){t.successLabel.classList.add("visually-hidden"),t.errorLabel.classList.remove("visually-hidden"),t.email.classList.add("input-error"),t.email.classList.remove("input-success"),t.errorLabel.classList.add("is-open"),t.successLabel.classList.remove("is-open")},addSuccess(){t.errorLabel.classList.add("visually-hidden"),t.successLabel.classList.remove("visually-hidden"),t.email.classList.remove("input-error"),t.email.classList.add("input-success"),t.successLabel.classList.add("is-open"),t.errorLabel.classList.remove("is-open")},removeBoth(){t.email.classList.remove("input-success"),t.email.classList.remove("input-error"),t.successLabel.classList.add("is-open"),t.errorLabel.classList.remove("is-open"),setTimeout(()=>{t.successLabel.classList.add("visually-hidden"),t.errorLabel.classList.add("visually-hidden")},250)}},d={isClosed(){t.modalOverlay.classList.remove("is-open"),t.modalBackdrop.classList.remove("is-open"),setTimeout(()=>{t.modalBackdrop.classList.add("visually-hidden"),t.modalOverlay.classList.add("visually-hidden")},500),t.modalOverlay.children.close_button.removeEventListener("click",d.isClosed)},isOpen(){t.modalBackdrop.classList.remove("visually-hidden"),t.modalOverlay.classList.remove("visually-hidden"),t.modalBackdrop.classList.add("is-open"),t.modalOverlay.classList.add("is-open"),t.modalOverlay.children.close_button.addEventListener("click",d.isClosed)}},h={showError(){p.error({message:"Please fill out both fields before sending!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})},showBadRequest(){p.error({message:"Something went wrong. Please try again!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})}},c={email:null,comments:null};if(localStorage.hasOwnProperty("userSubmitData")){const e=JSON.parse(localStorage.getItem("userSubmitData"));t.form.elements.email.value=e.email,t.form.elements.comments.value=e.comments,c.email=e.email,c.comments=e.comments}const f=()=>{localStorage.setItem("userSubmitData",JSON.stringify(c))},T=()=>{localStorage.removeItem("userSubmitData")},u=e=>/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e.trim()),B=e=>{const o="https://portfolio-js.b.goit.study/api",r="/requests",i=e;return v.post(`${o}${r}`,i)},C=()=>{u(t.form.elements.email.value)||l.addError()},P=async e=>{try{e.preventDefault();const o=e.currentTarget;if(o.elements.email.value.trim()===""||o.elements.comments.value.trim()===""){h.showError();return}const r={email:o.elements.email.value.trim(),comment:o.elements.comments.value.trim()},i=await B(r);t.modalOverlay.children.title.textContent=i.data.title,t.modalOverlay.children.message.textContent=i.data.message,d.isOpen(),l.removeBoth(),o.reset(),T()}catch(o){console.log(o),h.showBadRequest()}},D=e=>{c.email=e.target.value,f(),e.target.value.length>27&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,17)+"..."),e.target.value.length>31&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,29)+"..."),(!t.errorLabel.classList.contains("visually-hidden")||!t.successLabel.classList.contains("visually-hidden"))&&(u(e.target.value)&&l.addSuccess(),u(e.target.value)||l.addError(),e.target.value===""&&l.removeBoth())},x=e=>{c.comments=e.target.value,f(),e.target.value.length>27&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,17)+"..."),e.target.value.length>31&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,29)+"...")};t.btn.addEventListener("click",C);t.form.addEventListener("submit",P);t.email.addEventListener("input",D);t.comments.addEventListener("input",x);function A(){const o=document.querySelector(".back-to-top"),r=()=>document.documentElement||document.body;document.addEventListener("scroll",()=>{r().scrollTop>100?o.classList.remove("hidden"):o.classList.add("hidden")});const i=()=>{document.body.scrollIntoView({behavior:"smooth"})};o.addEventListener("click",i);const s=document.querySelector(".progress-bar");document.addEventListener("scroll",()=>{const a=r().scrollTop/(r().scrollHeight-r().clientHeight)*100;s.style.width=`${a}%`,r().scrollTop>100?o.classList.remove("hidden"):o.classList.add("hidden")})}function I(){new g(".about-me-secondlist",{showMultiple:!0}).open(0),new m(".about-me-swiper-container",{centeredSlides:!1,grabCursor:!0,loop:!0,keyboard:{enabled:!0},mousewheel:!0,touch:!0,navigation:{nextEl:".swiper-button-next"},slidesPerView:2,spaceBetween:0,breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}}})}const z=()=>{new m(".projects-swiper",{direction:"horizontal",navigation:{nextEl:".projects-next-button",prevEl:".projects-previous-button"},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0,tabKeys:!0},grabCursor:!0})};b();L();y();w();async function j(){await q()}j();A();I();z();
//# sourceMappingURL=commonHelpers.js.map
