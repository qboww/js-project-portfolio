import{S as h,i as u,a as f,A as p}from"./assets/vendor-bc146a52.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();function v(){const e=document.querySelector(".menu-box"),s=document.querySelector(".button-menu"),i=document.querySelector(".button-mob-menu"),n=document.querySelector("body");s.addEventListener("click",function(){e.classList.toggle("visually-hidden"),o()}),i.addEventListener("click",function(){e.classList.toggle("visually-hidden"),o()}),document.addEventListener("click",function(r){(r.target.classList.contains("menu-link")||r.target.classList.contains("modal-order-btn"))&&(e.classList.add("visually-hidden"),o())});function o(){n.classList.toggle("modal-open")}}function g(){const e=document.querySelector(".covers"),s=document.querySelectorAll(".covers-picture"),i=()=>{s.forEach(r=>{r.classList.add("js-animation")})},n=()=>{s.forEach(r=>{r.classList.remove("js-animation")})};new IntersectionObserver(r=>{r.forEach(a=>{a.isIntersecting?i():n()})}).observe(e)}function L(){let e=document.querySelector(".header-select");e.addEventListener("change",i);function s(o){localStorage.setItem("theme",o),document.documentElement.className=o}function i(o){const r=o.currentTarget.value;s(`${r}-theme`),Array.from(e.options).forEach(a=>{a.value===r?a.selected=!0:a.selected=!1})}function n(){const o=localStorage.getItem("theme");o?(s(o),Array.from(e.options).forEach(r=>{r.value===o.replace("-theme","")?r.selected=!0:r.selected=!1})):s("red-theme")}n(),document.body.classList.add("theme-loaded")}function b(){const e=document.querySelector(".btn-drop-down"),s=document.querySelector(".list-menu-anchors");e.addEventListener("click",function(){s.classList.toggle("visually-hidden")}),document.querySelectorAll('a[href^="#"]').forEach(i=>{i.addEventListener("click",function(n){n.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})}const y=({_id:e,avatar_url:s,author:i,review:n})=>`<li class="reviews-list-item swiper-slide" id="${e}">
            <img class="thumbnail" src="${s}" alt="${i}" width="48" height="48" loading="lazy">
            <div class="opinion">
              <h3 class="author">${i}</h3>
              <p class="review">${n.trim()}</p>
            </div>
          </li>`;function w(e){return e.map(y).join("")}const E="https://portfolio-js.b.goit.study/api/reviews",S=document.querySelector("#review-swiper-list"),k=async()=>{try{const e=await fetch(E);if(!e.ok)throw new Error("Network response was not ok.");const s=await e.json(),i=w(s);i||iziToast.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"}),S.insertAdjacentHTML("beforeend",i);const n=new h("#swiper3",{direction:"horizontal",breakpoints:{768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:16},1440:{slidesPerView:4,slidesPerGroup:1,spaceBetween:18}},navigation:{nextEl:".btn-next-review",prevEl:".btn-prev-review"}})}catch{iziToast.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},t={form:document.querySelector(".footer-form"),email:document.querySelector(".footer-email-input"),successLabel:document.querySelector(".success-label"),errorLabel:document.querySelector(".error-label"),comments:document.querySelector(".footer-comments-input"),btn:document.querySelector(".footer-send-button"),modalBackdrop:document.querySelector(".footer-modal-backdrop"),modalOverlay:document.querySelector(".footer-modal-overlay")},l={addError(){t.successLabel.classList.add("visually-hidden"),t.errorLabel.classList.remove("visually-hidden"),t.email.classList.add("input-error"),t.email.classList.remove("input-success"),t.errorLabel.classList.add("is-open"),t.successLabel.classList.remove("is-open")},addSuccess(){t.errorLabel.classList.add("visually-hidden"),t.successLabel.classList.remove("visually-hidden"),t.email.classList.remove("input-error"),t.email.classList.add("input-success"),t.successLabel.classList.add("is-open"),t.errorLabel.classList.remove("is-open")},removeBoth(){t.email.classList.remove("input-success"),t.email.classList.remove("input-error"),t.successLabel.classList.add("is-open"),t.errorLabel.classList.remove("is-open"),setTimeout(()=>{t.successLabel.classList.add("visually-hidden"),t.errorLabel.classList.add("visually-hidden")},250)}},c={isClosed(){t.modalOverlay.classList.remove("is-open"),t.modalBackdrop.classList.remove("is-open"),setTimeout(()=>{t.modalBackdrop.classList.add("visually-hidden"),t.modalOverlay.classList.add("visually-hidden")},500),t.modalOverlay.children.close_button.removeEventListener("click",c.isClosed)},isOpen(){t.modalBackdrop.classList.remove("visually-hidden"),t.modalOverlay.classList.remove("visually-hidden"),t.modalBackdrop.classList.add("is-open"),t.modalOverlay.classList.add("is-open"),t.modalOverlay.children.close_button.addEventListener("click",c.isClosed)}},m={showError(){u.error({message:"Please fill out both fields before sending!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})},showBadRequest(){u.error({message:"Something went wrong. Please try again!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})}},d=e=>/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e.trim()),q=e=>{const s="https://portfolio-js.b.goit.study/api",i="/requests",n=e;return f.post(`${s}${i}`,n)},O=()=>{d(t.form.elements.email.value)||l.addError()},T=async e=>{try{e.preventDefault();const s=e.currentTarget;if(s.elements.email.value.trim()===""||s.elements.comments.value.trim()===""){m.showError();return}const i={email:s.elements.email.value.trim(),comment:s.elements.comments.value.trim()},n=await q(i);t.modalOverlay.children.title.textContent=n.data.title,t.modalOverlay.children.message.textContent=n.data.message,c.isOpen(),l.removeBoth(),s.reset()}catch(s){console.log(s),m.showBadRequest()}},B=e=>{e.target.value.length>27&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,17)+"..."),e.target.value.length>31&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,29)+"..."),(!t.errorLabel.classList.contains("visually-hidden")||!t.successLabel.classList.contains("visually-hidden"))&&(d(e.target.value)&&l.addSuccess(),d(e.target.value)||l.addError(),e.target.value===""&&l.removeBoth())},P=e=>{e.target.value.length>27&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,17)+"..."),e.target.value.length>31&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,29)+"...")};t.btn.addEventListener("click",O);t.form.addEventListener("submit",T);t.email.addEventListener("input",B);t.comments.addEventListener("input",P);function C(){const s=document.querySelector(".back-to-top"),i=()=>document.documentElement||document.body;document.addEventListener("scroll",()=>{i().scrollTop>100?s.classList.remove("hidden"):s.classList.add("hidden")});const n=()=>{document.body.scrollIntoView({behavior:"smooth"})};s.addEventListener("click",n);const o=document.querySelector(".progress-bar");document.addEventListener("scroll",()=>{const r=i().scrollTop/(i().scrollHeight-i().clientHeight)*100;o.style.width=`${r}%`,i().scrollTop>100?s.classList.remove("hidden"):s.classList.add("hidden")})}function A(){new p(".about-me-secondlist",{showMultiple:!0}).open(0),new h(".about-me-swiper-container",{centeredSlides:!1,grabCursor:!0,loop:!0,keyboard:{enabled:!0},mousewheel:!0,touch:!0,navigation:{nextEl:".swiper-button-next"},slidesPerView:2,spaceBetween:0,breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}}})}v();g();L();b();async function x(){await k()}x();C();A();
//# sourceMappingURL=commonHelpers.js.map
