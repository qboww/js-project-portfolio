import{S as f,i as h}from"./assets/vendor-824b6900.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function v(){const e=document.querySelector(".covers"),t=document.querySelectorAll(".covers-picture"),r=()=>{t.forEach(i=>{i.classList.add("js-animation")})},o=()=>{t.forEach(i=>{i.classList.remove("js-animation")})};new IntersectionObserver(i=>{i.forEach(c=>{c.isIntersecting?r():o()})}).observe(e)}function p(){document.querySelector(".header-select").addEventListener("change",t);function e(r){localStorage.setItem("theme",r),document.documentElement.className=r}function t(r){const o=r.currentTarget.value;e(`${o}-theme`)}(function(){const r=localStorage.getItem("theme");e(r||"red-theme")})()}function g(){const e=document.querySelector(".btn-drop-down"),t=document.querySelector(".list-menu-anchors");e.addEventListener("click",function(){t.classList.toggle("visually-hidden")}),document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",function(o){o.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})}const b=({_id:e,avatar_url:t,author:r,review:o})=>`<li class="reviews-list-item swiper-slide" id="${e}">
            <img class="thumbnail" src="${t}" alt="${r}" width="48" height="48" loading="lazy">
            <div class="opinion">
              <h3 class="author">${r}</h3>
              <p class="review">${o.trim()}</p>
            </div>
          </li>`;function y(e){return e.map(b).join("")}const L="https://portfolio-js.b.goit.study/api/reviews",w=document.querySelector("#review-swiper-list"),S=document.querySelector(".btn-prev-review-wrapper"),E=document.querySelector(".btn-prev-review"),q=document.querySelector(".reviews-arrow-left"),B=document.querySelector(".review-btn-next"),T=document.querySelector(".btn-next-review"),A=document.querySelector(".reviews-arrow-right"),u=(e,t,r,o)=>{o?(e.disabled=!0,t.style.cursor="not-allowed",t.style.border="1px solid #3B3B3B",r.style.stroke="#3B3B3B"):(e.disabled=!1,t.style.cursor="pointer",t.style.border="1px solid #FAFAFA",r.style.stroke="#FAFAFA")},d=e=>{u(S,E,q,e.isBeginning),u(B,T,A,e.isEnd)},k=async()=>{try{const e=await fetch(L);if(!e.ok)throw new Error("Network response was not ok.");const t=await e.json(),r=y(t);r||iziToast.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"}),w.insertAdjacentHTML("beforeend",r);const o=new f("#swiper3",{direction:"horizontal",on:{slideChange:d},breakpoints:{768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:16},1440:{slidesPerView:4,slidesPerGroup:1,spaceBetween:18}},navigation:{nextEl:".btn-next-review",prevEl:".btn-prev-review"}});d(o)}catch{iziToast.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},s={form:document.querySelector(".footer-form"),email:document.querySelector(".footer-email-input"),successLabel:document.querySelector(".success-label"),errorLabel:document.querySelector(".error-label"),comments:document.querySelector(".footer-comments-input"),btn:document.querySelector(".footer-send-button")},l={addSuccess(){s.errorLabel.classList.add("visually-hidden"),s.successLabel.classList.remove("visually-hidden"),s.email.classList.remove("input-error"),s.email.classList.add("input-success")},addError(){s.errorLabel.classList.remove("visually-hidden"),s.successLabel.classList.add("visually-hidden"),s.email.classList.add("input-error"),s.email.classList.remove("input-success")},removeBoth(){s.successLabel.classList.add("visually-hidden"),s.errorLabel.classList.add("visually-hidden"),s.email.classList.remove("input-success"),s.email.classList.remove("input-error")}},x={error(){h.error({message:"Please fill out both fields before sending!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})}},a=e=>/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e.trim()),z=()=>{a(s.form.elements.email.value)||l.addError()},C=e=>{if(e.preventDefault(),e.currentTarget.elements.email.value.trim()===""||e.currentTarget.elements.comments.value.trim()===""){x.error();return}},P=e=>{e.target.value.length>38&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,36)+"..."),e.target.value.length>27&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>43&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,41)+"..."),(!s.errorLabel.classList.contains("visually-hidden")||!s.successLabel.classList.contains("visually-hidden"))&&(a(e.target.value)&&l.addSuccess(),a(e.target.value)||l.addError(),e.target.value===""&&l.removeBoth())},I=e=>{e.target.value.length>38&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,36)+"..."),e.target.value.length>27&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>43&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,41)+"...")};s.btn.addEventListener("click",z);s.form.addEventListener("submit",C);s.email.addEventListener("input",P);s.comments.addEventListener("input",I);function m(){const e=document.querySelector(".menu-box"),t=document.querySelector(".button-menu"),r=document.querySelector(".button-mob-menu");t.addEventListener("click",function(){e.classList.toggle("visually-hidden")}),r.addEventListener("click",function(){e.classList.toggle("visually-hidden")}),document.addEventListener("click",function(o){(o.target.classList.contains("menu-link")||o.target.classList.contains("modal-order-btn"))&&e.classList.add("visually-hidden")})}function O(){const t=document.querySelector(".back-to-top"),r=()=>document.documentElement||document.body;document.addEventListener("scroll",()=>{r().scrollTop>100?t.classList.remove("hidden"):t.classList.add("hidden")});const o=()=>{document.body.scrollIntoView({behavior:"smooth"})};t.addEventListener("click",o)}v();p();g();async function F(){await k()}F();m();O();m();
//# sourceMappingURL=commonHelpers.js.map
