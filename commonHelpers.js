import{S as m,i as u,a as f}from"./assets/vendor-6adec560.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function h(){const e=document.querySelector(".menu-box"),t=document.querySelector(".button-menu"),s=document.querySelector(".button-mob-menu"),o=document.querySelector("body");t.addEventListener("click",function(){e.classList.toggle("visually-hidden"),r()}),s.addEventListener("click",function(){e.classList.toggle("visually-hidden"),r()}),document.addEventListener("click",function(i){(i.target.classList.contains("menu-link")||i.target.classList.contains("modal-order-btn"))&&(e.classList.add("visually-hidden"),r())});function r(){o.classList.toggle("modal-open")}}function g(){const e=document.querySelector(".covers"),t=document.querySelectorAll(".covers-picture"),s=()=>{t.forEach(i=>{i.classList.add("js-animation")})},o=()=>{t.forEach(i=>{i.classList.remove("js-animation")})};new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting?s():o()})}).observe(e)}function p(){let e=document.querySelector(".header-select");e.addEventListener("change",s);function t(o){localStorage.setItem("theme",o),document.documentElement.className=o}function s(o){const r=o.currentTarget.value;t(`${r}-theme`)}(function(){const o=localStorage.getItem("theme");e.value=`${o.replace(new RegExp("-theme"),"")}`,t(o||"red-theme")})()}function v(){const e=document.querySelector(".btn-drop-down"),t=document.querySelector(".list-menu-anchors");e.addEventListener("click",function(){t.classList.toggle("visually-hidden")}),document.querySelectorAll('a[href^="#"]').forEach(s=>{s.addEventListener("click",function(o){o.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})}const b=({_id:e,avatar_url:t,author:s,review:o})=>`<li class="reviews-list-item swiper-slide" id="${e}">
            <img class="thumbnail" src="${t}" alt="${s}" width="48" height="48" loading="lazy">
            <div class="opinion">
              <h3 class="author">${s}</h3>
              <p class="review">${o.trim()}</p>
            </div>
          </li>`;function L(e){return e.map(b).join("")}const y="https://portfolio-js.b.goit.study/api/reviews",w=document.querySelector("#review-swiper-list"),E=async()=>{try{const e=await fetch(y);if(!e.ok)throw new Error("Network response was not ok.");const t=await e.json(),s=L(t);s||iziToast.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"}),w.insertAdjacentHTML("beforeend",s);const o=new m("#swiper3",{direction:"horizontal",breakpoints:{768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:16},1440:{slidesPerView:4,slidesPerGroup:1,spaceBetween:18}},navigation:{nextEl:".btn-next-review",prevEl:".btn-prev-review"}})}catch{iziToast.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},n={form:document.querySelector(".footer-form"),email:document.querySelector(".footer-email-input"),successLabel:document.querySelector(".success-label"),errorLabel:document.querySelector(".error-label"),comments:document.querySelector(".footer-comments-input"),btn:document.querySelector(".footer-send-button")},l={addSuccess(){n.errorLabel.classList.add("visually-hidden"),n.successLabel.classList.remove("visually-hidden"),n.email.classList.remove("input-error"),n.email.classList.add("input-success")},addError(){n.errorLabel.classList.remove("visually-hidden"),n.successLabel.classList.add("visually-hidden"),n.email.classList.add("input-error"),n.email.classList.remove("input-success")},removeBoth(){n.successLabel.classList.add("visually-hidden"),n.errorLabel.classList.add("visually-hidden"),n.email.classList.remove("input-success"),n.email.classList.remove("input-error")}},d={showError(){u.error({message:"Please fill out both fields before sending!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})},showBadRequest(){u.error({message:"Something went wrong. Please try again!",messageColor:"#fafafa",backgroundColor:"#e74a3b",theme:"dark",closeOnClick:!0,timeout:3e3})}},c=e=>/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e.trim()),S=e=>{const t="https://portfolio-js.b.goit.study/api",s="/requests",o=e;return f.post(`${t}${s}`,o)},q=()=>{c(n.form.elements.email.value)||l.addError()},T=async e=>{try{if(e.preventDefault(),e.currentTarget.elements.email.value.trim()===""||e.currentTarget.elements.comments.value.trim()===""){d.showError();return}const t={email:e.currentTarget.elements.email.value.trim(),comment:e.currentTarget.elements.comments.value.trim()},s=await S(t)}catch(t){console.log(t),d.showBadRequest()}},k=e=>{e.target.value.length>27&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,17)+"..."),e.target.value.length>31&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,29)+"..."),(!n.errorLabel.classList.contains("visually-hidden")||!n.successLabel.classList.contains("visually-hidden"))&&(c(e.target.value)&&l.addSuccess(),c(e.target.value)||l.addError(),e.target.value===""&&l.removeBoth())},P=e=>{e.target.value.length>27&&innerWidth<=375&&(e.target.value=e.target.value.slice(0,25)+"..."),e.target.value.length>19&&innerWidth>375&&innerWidth<1440&&(e.target.value=e.target.value.slice(0,17)+"..."),e.target.value.length>31&&innerWidth>=1440&&(e.target.value=e.target.value.slice(0,29)+"...")};n.btn.addEventListener("click",q);n.form.addEventListener("submit",T);n.email.addEventListener("input",k);n.comments.addEventListener("input",P);function B(){const t=document.querySelector(".back-to-top"),s=()=>document.documentElement||document.body;document.addEventListener("scroll",()=>{s().scrollTop>100?t.classList.remove("hidden"):t.classList.add("hidden")});const o=()=>{document.body.scrollIntoView({behavior:"smooth"})};t.addEventListener("click",o);const r=document.querySelector(".progress-bar");document.addEventListener("scroll",()=>{const i=s().scrollTop/(s().scrollHeight-s().clientHeight)*100;r.style.width=`${i}%`,s().scrollTop>100?t.classList.remove("hidden"):t.classList.add("hidden")})}h();g();p();v();async function C(){await E()}C();B();
//# sourceMappingURL=commonHelpers.js.map
