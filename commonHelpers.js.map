{"version":3,"file":"commonHelpers.js","sources":["../src/js/mobile-logic.js","../src/js/covers.js","../src/js/header-change-of-subject.js","../src/js/header-logic.js","../src/js/render-reviews.js","../src/js/reviews.js","../src/js/work-together.js","../src/js/back-to-top.js","../src/main.js"],"sourcesContent":["export function initializeMobile() {\n  const menuBox = document.querySelector('.menu-box');\n  const buttonMenu = document.querySelector('.button-menu');\n  const buttonClose = document.querySelector('.button-mob-menu');\n\n  buttonMenu.addEventListener('click', function () {\n    menuBox.classList.toggle('visually-hidden');\n  });\n\n  buttonClose.addEventListener('click', function () {\n    menuBox.classList.toggle('visually-hidden');\n  });\n\n  document.addEventListener('click', function (event) {\n    if (\n      event.target.classList.contains('menu-link') ||\n      event.target.classList.contains('modal-order-btn')\n    ) {\n      menuBox.classList.add('visually-hidden');\n    }\n  });\n}\n","export function initalizeCover() {\n  const covers = document.querySelector('.covers');\n  const animatesEl = document.querySelectorAll('.covers-picture');\n\n  const addAnimationClass = () => {\n    animatesEl.forEach(animationEL => {\n      animationEL.classList.add('js-animation');\n    });\n  };\n  const removeAnimationClass = () => {\n    animatesEl.forEach(animationEL => {\n      animationEL.classList.remove('js-animation');\n    });\n  };\n\n  const followUser = new IntersectionObserver(watch => {\n    watch.forEach(youHere => {\n      if (youHere.isIntersecting) {\n        addAnimationClass();\n      } else {\n        removeAnimationClass();\n      }\n    });\n  });\n\n  followUser.observe(covers);\n}\n","export function changeTheSubject() {\n  let selectEl = document.querySelector('.header-select');\n\n  selectEl.addEventListener('change', changeTheme);\n\n  function setTheme(themeName) {\n    localStorage.setItem('theme', themeName);\n    document.documentElement.className = themeName;\n  }\n\n  function changeTheme(event) {\n    const selectedTheme = event.currentTarget.value;\n    setTheme(`${selectedTheme}-theme`);\n  }\n\n  (function () {\n    const storedTheme = localStorage.getItem('theme');\n    selectEl.value = `${storedTheme.replace(new RegExp('-theme'), '')}`;\n\n    if (storedTheme) {\n      setTheme(storedTheme);\n    } else {\n      setTheme('red-theme');\n    }\n  })();\n}\n","export function initializeMenuBehavior() {\n  const dropDownButton = document.querySelector('.btn-drop-down');\n  const menuAnchors = document.querySelector('.list-menu-anchors');\n\n  dropDownButton.addEventListener('click', function () {\n    menuAnchors.classList.toggle('visually-hidden');\n  });\n\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n      e.preventDefault();\n\n      document.querySelector(this.getAttribute('href')).scrollIntoView({\n        behavior: 'smooth',\n      });\n    });\n  });\n}\n","\nconst renderReview = ({ _id, avatar_url, author, review }) => {\n  return `<li class=\"reviews-list-item swiper-slide\" id=\"${_id}\">\n            <img class=\"thumbnail\" src=\"${avatar_url}\" alt=\"${author}\" width=\"48\" height=\"48\" loading=\"lazy\">\n            <div class=\"opinion\">\n              <h3 class=\"author\">${author}</h3>\n              <p class=\"review\">${review.trim()}</p>\n            </div>\n          </li>`;\n};\n\nexport function renderReviews(reviews) {\n  return reviews.map(renderReview).join('');\n}\n","// #region REVIEWS //\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { renderReviews } from './render-reviews';\n\nconst URL = 'https://portfolio-js.b.goit.study/api/reviews';\nconst list = document.querySelector('#review-swiper-list');\n\nconst fetchDataAndInitializeSwiper = async () => {\n  try {\n    const response = await fetch(URL);\n    if (!response.ok) {\n      throw new Error('Network response was not ok.');\n    }\n    const data = await response.json();\n    const markup = renderReviews(data);\n    if (!markup) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, reviews not found.',\n        position: 'bottomLeft',\n      });\n    }\n    list.insertAdjacentHTML('beforeend', markup);\n\n    const swiper3 = new Swiper('#swiper3', {\n      direction: 'horizontal',\n\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          slidesPerGroup: 1,\n          spaceBetween: 16,\n        },\n        1440: {\n          slidesPerView: 4,\n          slidesPerGroup: 1,\n          spaceBetween: 18,\n        },\n      },\n      navigation: {\n        nextEl: '.btn-next-review',\n        prevEl: '.btn-prev-review',\n      },\n    });\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Error while fetching reviews from server',\n      position: 'bottomLeft',\n    });\n  }\n};\n\nexport { fetchDataAndInitializeSwiper };\n","import iziToast from 'izitoast';\n\nconst elms = {\n  form: document.querySelector('.footer-form'),\n  email: document.querySelector('.footer-email-input'),\n  successLabel: document.querySelector('.success-label'),\n  errorLabel: document.querySelector('.error-label'),\n  comments: document.querySelector('.footer-comments-input'),\n  btn: document.querySelector('.footer-send-button'),\n};\n\nconst labels = {\n  addSuccess() {\n    elms.errorLabel.classList.add('visually-hidden');\n    elms.successLabel.classList.remove('visually-hidden');\n    elms.email.classList.remove('input-error');\n    elms.email.classList.add('input-success');\n  },\n\n  addError() {\n    elms.errorLabel.classList.remove('visually-hidden');\n    elms.successLabel.classList.add('visually-hidden');\n    elms.email.classList.add('input-error');\n    elms.email.classList.remove('input-success');\n  },\n  removeBoth() {\n    elms.successLabel.classList.add('visually-hidden');\n    elms.errorLabel.classList.add('visually-hidden');\n    elms.email.classList.remove('input-success');\n    elms.email.classList.remove('input-error');\n  },\n};\n\nconst messages = {\n  error() {\n    iziToast.error({\n      message: 'Please fill out both fields before sending!',\n      messageColor: '#fafafa',\n      backgroundColor: '#e74a3b',\n      theme: 'dark',\n      closeOnClick: true,\n      timeout: 3000,\n    });\n  },\n};\n\nconst isValidEmail = email => {\n  const pattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n  return pattern.test(email.trim());\n};\n\nconst onButtonClick = () => {\n  if (!isValidEmail(elms.form.elements.email.value)) {\n    labels.addError();\n  }\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  if (\n    event.currentTarget.elements.email.value.trim() === '' ||\n    event.currentTarget.elements.comments.value.trim() === ''\n  ) {\n    messages.error();\n\n    return;\n  }\n};\n\nconst onEmailInput = event => {\n  if (event.target.value.length > 27 && innerWidth <= 375) {\n    event.target.value = event.target.value.slice(0, 25) + '...';\n  }\n  if (event.target.value.length > 19 && innerWidth > 375 && innerWidth < 1440) {\n    event.target.value = event.target.value.slice(0, 17) + '...';\n  }\n  if (event.target.value.length > 31 && innerWidth >= 1440) {\n    event.target.value = event.target.value.slice(0, 29) + '...';\n  }\n  if (\n    !elms.errorLabel.classList.contains('visually-hidden') ||\n    !elms.successLabel.classList.contains('visually-hidden')\n  ) {\n    if (isValidEmail(event.target.value)) {\n      labels.addSuccess();\n    }\n    if (!isValidEmail(event.target.value)) {\n      labels.addError();\n    }\n    if (event.target.value === '') {\n      labels.removeBoth();\n    }\n  }\n};\n\nconst onCommentsInput = event => {\n  if (event.target.value.length > 27 && innerWidth <= 375) {\n    event.target.value = event.target.value.slice(0, 25) + '...';\n  }\n  if (event.target.value.length > 19 && innerWidth > 375 && innerWidth < 1440) {\n    event.target.value = event.target.value.slice(0, 17) + '...';\n  }\n  if (event.target.value.length > 31 && innerWidth >= 1440) {\n    event.target.value = event.target.value.slice(0, 29) + '...';\n  }\n};\n\nelms.btn.addEventListener('click', onButtonClick);\nelms.form.addEventListener('submit', onFormSubmit);\nelms.email.addEventListener('input', onEmailInput);\nelms.comments.addEventListener('input', onCommentsInput);\n","export function backToTop() {\n  const showOnPx = 100;\n  const backToTopButton = document.querySelector('.back-to-top');\n\n  const scrollContainer = () => {\n    return document.documentElement || document.body;\n  };\n\n  document.addEventListener('scroll', () => {\n    if (scrollContainer().scrollTop > showOnPx) {\n      backToTopButton.classList.remove('hidden');\n    } else {\n      backToTopButton.classList.add('hidden');\n    }\n  });\n\n  const goToTop = () => {\n    document.body.scrollIntoView({\n      behavior: 'smooth',\n    });\n  };\n\n  backToTopButton.addEventListener('click', goToTop);\n\n  const pageProgressBar = document.querySelector('.progress-bar');\n  document.addEventListener('scroll', () => {\n    const scrolledPercentage =\n      (scrollContainer().scrollTop /\n        (scrollContainer().scrollHeight - scrollContainer().clientHeight)) *\n      100;\n\n    pageProgressBar.style.width = `${scrolledPercentage}%`;\n\n    if (scrollContainer().scrollTop > showOnPx) {\n      backToTopButton.classList.remove('hidden');\n    } else {\n      backToTopButton.classList.add('hidden');\n    }\n  });\n}\n","//#region MOBILE\nimport { initializeMobile } from './js/mobile-logic';\ninitializeMobile();\n//#endregion MOBILE\n\nimport { initalizeCover } from './js/covers';\ninitalizeCover();\n\nimport { changeTheSubject } from './js/header-change-of-subject';\nchangeTheSubject();\n\n//#region HEADER\nimport { initializeMenuBehavior } from './js/header-logic';\ninitializeMenuBehavior();\n//#endregion HEADER\n\n//#region REVIEWS\nimport { fetchDataAndInitializeSwiper } from './js/reviews';\n\nasync function initializeSwiper() {\n  await fetchDataAndInitializeSwiper();\n}\n\ninitializeSwiper();\n//#endregion REVIEWS\n\nimport * as workTogether from './js/work-together';\n\n//#region backToTop\nimport { backToTop } from './js/back-to-top.js';\nbackToTop();\n//#endregion backToTop\n"],"names":["initializeMobile","menuBox","buttonMenu","buttonClose","event","initalizeCover","covers","animatesEl","addAnimationClass","animationEL","removeAnimationClass","watch","youHere","changeTheSubject","selectEl","changeTheme","setTheme","themeName","selectedTheme","storedTheme","initializeMenuBehavior","dropDownButton","menuAnchors","anchor","e","renderReview","_id","avatar_url","author","review","renderReviews","reviews","URL","list","fetchDataAndInitializeSwiper","response","data","markup","swiper3","Swiper","elms","labels","messages","iziToast","isValidEmail","email","onButtonClick","onFormSubmit","onEmailInput","onCommentsInput","backToTop","backToTopButton","scrollContainer","goToTop","pageProgressBar","scrolledPercentage","initializeSwiper"],"mappings":"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"}